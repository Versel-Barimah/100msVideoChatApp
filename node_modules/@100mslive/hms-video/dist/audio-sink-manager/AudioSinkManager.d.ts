import { DeviceManager } from '../device-manager';
import { NotificationManager } from '../notification-manager/NotificationManager';
import { IStore } from '../sdk/store';
import { HMSException } from '../error/HMSException';
import { HMSUpdateListener } from '../interfaces';
import { EventBus } from '../events/EventBus';
/**
 * Following are the errors thrown when autoplay is blocked in different browsers
 * Firefox - DOMException: The play method is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.
 * Safari - NotAllowedError: The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.
 * Chrome - DOMException: play() failed because the user didn't interact with the document first.
 * Brave - DOMException: play() can only be initiated by a user gesture.
 */
export interface AutoplayEvent {
    error: HMSException;
}
export declare const AutoplayError = "autoplay-error";
export declare class AudioSinkManager {
    private store;
    private notificationManager;
    private deviceManager;
    private eventBus;
    private audioSink?;
    private autoPausedTracks;
    private TAG;
    private volume;
    private eventEmitter;
    private state;
    private audioContextList;
    private listener?;
    constructor(store: IStore, notificationManager: NotificationManager, deviceManager: DeviceManager, eventBus: EventBus);
    setListener(listener?: HMSUpdateListener): void;
    addEventListener(event: string, listener: (event: AutoplayEvent) => void): void;
    removeEventListener(event: string, listener: (event: AutoplayEvent) => void): void;
    private get outputDevice();
    getVolume(): number;
    setVolume(value: number): void;
    /**
     *  This function is to be called only on user interaction when
     *  autoplay error is received.
     */
    unblockAutoplay(): Promise<void>;
    init(elementId?: string): void;
    cleanUp(): void;
    private handleAudioPaused;
    private handleTrackUpdate;
    private handleTrackAdd;
    private handleTrackAddAsync;
    private handleAudioDeviceChange;
    /**
     * try to play audio for the passed in track, assume autoplay error happened if play fails
     * @param track
     * @private
     */
    private playAudioFor;
    private handleTrackRemove;
    private unpauseAudioTracks;
    private connectAudioContext;
}
